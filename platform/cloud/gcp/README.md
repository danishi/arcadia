# GCP Cloud Infrastructure Guide

Google Cloud Platform上でのインフラストラクチャ構成ガイド。`{{CLOUD_PROVIDER}}` = `GCP` の場合に参照する。

---

## 推奨リージョン

| 用途 | リージョン | 備考 |
|------|----------|------|
| **本番（主系）** | asia-northeast1 (Tokyo) | 国内データ保管要件への対応 |
| **DR/バックアップ** | asia-northeast2 (Osaka) | クロスリージョンレプリケーション先 |

## インフラ構成概要

```
GCP asia-northeast1 (Tokyo)
├── VPC: {{VPC_NAME}}
│   ├── Subnet (コントロールプレーン通信用)
│   │   └── Cloud NAT → Cloud Router（制限付き外部通信）
│   ├── Subnet (データプレーン)
│   │   ├── {{PLATFORM_NAME}} コンピュートリソース
│   │   └── データ処理パイプライン
│   └── Subnet (プライベート接続)
│       ├── Private Service Connect (GCS)
│       └── {{PLATFORM_NAME}} プライベート接続
│
├── Cloud Storage (GCS)
│   ├── {{PROJECT_SLUG}}-landing       ← データ受信先
│   ├── {{PROJECT_SLUG}}-raw           ← Raw層データ
│   ├── {{PROJECT_SLUG}}-curated       ← 加工済データ
│   ├── {{PROJECT_SLUG}}-analytics     ← 分析用データ
│   ├── {{PROJECT_SLUG}}-staging       ← ワーク/一時データ
│   ├── {{PROJECT_SLUG}}-archive       ← アーカイブ (Coldline/Archive)
│   ├── {{PROJECT_SLUG}}-exchange      ← システム間データ交換用
│   ├── {{PROJECT_SLUG}}-audit         ← 監査ログ長期保存
│   └── {{PROJECT_SLUG}}-backup        ← バックアップ先
│
├── IAM / セキュリティ
│   ├── Cloud KMS (CMEK、AES-256)
│   ├── Service Account（{{PLATFORM_NAME}}用）
│   └── Cloud Audit Logs
│
└── 監視・運用
    ├── Cloud Monitoring (Metrics / Alerting)
    └── Cloud Logging → GCS (長期保存)

GCP asia-northeast2 (Osaka)
├── GCS クロスリージョンレプリケーション先 (Dual-region: asia1)
└── [必要時] DR環境（フェイルオーバー用）
```

## セキュリティ設計

| 項目 | GCP実装 |
|------|---------|
| **通信暗号化** | TLS 1.2+ (Cloud Load Balancing) |
| **保存データ暗号化** | CMEK (Cloud KMS) |
| **アクセス制御** | IAM + VPC Service Controls |
| **ネットワーク分離** | VPC + Firewall Rules + VPC Service Controls |
| **監査ログ** | Cloud Audit Logs + Access Transparency |
| **プライベート接続** | Private Service Connect / Private Google Access |

## データ基盤との連携

| データ基盤 | 接続方式 | 認証 |
|-----------|---------|------|
| **BigQuery** | ネイティブ統合 | Service Account |
| **Databricks** | Private Service Connect | Service Account / Instance Profile |
| **Snowflake** | Private Service Connect | Storage Integration (Service Account) |

## MCP サーバー

| MCP Server | 用途 |
|------------|------|
| `google-developer-knowledge` | GCP サービスドキュメント参照 |

---

*Generated by ARCADIA Framework - Platform Templates*
