// ============================================================================
// sidebar.tsx â€” ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
// ============================================================================
// {{PLATFORM_NAME}} ã¨ {{CLIENT_NAME}} ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰å€¤ã«ç½®æ›ã™ã‚‹ã€‚
// {{DEMO_SECTIONS}} ã¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã«å±•é–‹ã™ã‚‹ã€‚
// ============================================================================

"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";

type NavItem = {
  href: string;
  label: string;
  icon: string;
};

type NavSection = {
  title: string;
  badge?: string;
  items: NavItem[];
};

// --- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦ç·¨é›†ï¼‰ -----------------------
// {{DEMO_SECTIONS}} ã‚’ä»¥ä¸‹ã®å½¢å¼ã§å±•é–‹ã—ã¦ãã ã•ã„:
const sections: NavSection[] = [
  {
    title: "",
    items: [{ href: "/", label: "ãƒ›ãƒ¼ãƒ ", icon: "âŒ‚" }],
  },
  {
    title: "Phase 1",
    items: [
      { href: "/dashboard", label: "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰", icon: "ğŸ“Š" },
      { href: "/analysis", label: "ãƒ‡ãƒ¼ã‚¿åˆ†æ", icon: "ğŸ”" },
      { href: "/scenario", label: "ã‚·ãƒŠãƒªã‚ªç®¡ç†", icon: "ğŸ“‹" },
    ],
  },
  {
    title: "Phase 2",
    badge: "NEXT",
    items: [
      { href: "/journey", label: "ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ“ãƒ«ãƒ€ãƒ¼", icon: "ğŸ—º" },
      { href: "/engagement", label: "ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ", icon: "ğŸ’¬" },
      { href: "/realtime", label: "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ", icon: "âš¡" },
    ],
  },
];

export function Sidebar() {
  const pathname = usePathname();

  return (
    <aside className="w-64 bg-secondary text-white flex flex-col shrink-0">
      {/* ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      <div className="p-5 border-b border-white/10">
        <div className="flex items-center gap-2 mb-1">
          <div className="w-6 h-6 rounded bg-primary flex items-center justify-center text-[10px] font-bold">
            {/* {{PLATFORM_NAME}} ã®ã‚¢ã‚¤ã‚³ãƒ³ç•¥ç§° */}
            AP
          </div>
          <span className="text-xs font-bold tracking-wide text-white/70">
            {/* {{PLATFORM_NAME}} */}
            ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
          </span>
        </div>
        <h1 className="text-sm font-bold leading-tight mt-2">
          {/* {{CLIENT_NAME}} ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå */}
          åˆ†æåŸºç›¤ãƒ‡ãƒ¢
        </h1>
        <p className="text-[10px] text-white/40 mt-0.5">
          {/* {{DEMO_CONCEPT}} ã®çŸ­ç¸®ç‰ˆ */}
          æ¬¡ä¸–ä»£ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
        </p>
      </div>

      {/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}
      <nav className="flex-1 p-3 overflow-y-auto">
        {sections.map((section, si) => (
          <div key={si} className={si > 0 ? "mt-4" : ""}>
            {section.title && (
              <div className="flex items-center gap-2 px-3 mb-1.5">
                <span className="text-[10px] font-bold text-white/40 uppercase tracking-wider">
                  {section.title}
                </span>
                {section.badge && (
                  <span className="text-[9px] font-bold px-1.5 py-0.5 rounded bg-primary text-white">
                    {section.badge}
                  </span>
                )}
              </div>
            )}
            <ul className="space-y-0.5">
              {section.items.map((item, ii) => {
                const isActive = pathname === item.href;
                return (
                  <li key={item.href}>
                    <Link
                      href={item.href}
                      className={`flex items-center gap-2.5 px-3 py-2 rounded-lg text-sm transition-colors relative ${
                        isActive
                          ? "bg-white/10 text-white"
                          : "text-white/60 hover:bg-white/5 hover:text-white/90"
                      }`}
                    >
                      {isActive && (
                        <span className="absolute left-0 top-1.5 bottom-1.5 w-[3px] rounded-r bg-primary" />
                      )}
                      <span className="text-xs w-4 text-center opacity-70">
                        {item.icon}
                      </span>
                      <span>{item.label}</span>
                    </Link>
                    {si > 0 && ii < section.items.length - 1 && (
                      <div className="flex justify-center py-0.5 text-white/20 text-[10px]">
                        â†“
                      </div>
                    )}
                  </li>
                );
              })}
            </ul>
          </div>
        ))}
      </nav>

      {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}
      <div className="p-4 border-t border-white/10">
        <div className="text-[10px] text-white/30 text-center">
          ARCADIA Demo App
        </div>
      </div>
    </aside>
  );
}
